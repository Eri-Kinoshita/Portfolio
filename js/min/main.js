function loadingBarAnimation(){loadbarAni.addClass("visible"),loadiconAni.css("display","block")}function stopload(){loadbarAni.removeClass("visible"),loadiconAni.css("display","none")}function typeCoder(n,e,o,t){var a=new Array;textInMatrix(t,a);var i=0,l=setTimeout(function(){typeCoder(n,e,o,t)},100);e==t.length&&(e=0),o==a[e].length?(setTimeout(function(){sliceCoder(n,a[e],e,o,i,t)},1600),clearTimeout(l)):(n.innerHTML+=a[e][o],o++)}function textInMatrix(n,e){for(var o=0;o<n.length;o++){e[o]=new Array;for(var t=n[o],a=0;a<t.length;a++)e[o][a]=t.charAt(a)}}function sliceCoder(n,e,o,t,a,i){var l=setTimeout(function(){sliceCoder(n,e,o,t,a,i)},25);if(0==a){var e=e.join("");a=1}t<=0?(setTimeout(function(){typeCoder(n,o+1,0,i)},250),clearTimeout(l)):(n.innerHTML=e.slice(0,t-1),t--)}function getscrollTopinfo(){return{sc_top:document.documentElement.scrollTop||document.body.scrollTop}}function initialaetLang(){for(var n=["en_on","jp_on"],e=0;e<n.length;e++){var o=$(".lang__btn").hasClass(n[e]);o&&showLang(n[e].split("_")[0])}}function showLang(n){for(var e=["en","jp"],o=0;o<e.length;o++)n==e[o]?($("."+e[o]).addClass("visible"),$(".lang__btn").addClass(e[o]+"_on")):($("."+e[o]).removeClass("visible"),$(".lang__btn").removeClass(e[o]+"_on"))}var $window=$(window),wHeight=$window.height(),wWidth=$window.width(),loadbarAni=$(".loader__screen"),loadiconAni=$(".loader__contects");loadingBarAnimation(),setTimeout("stopload()",5e3),window.addEventListener("load",function(){$("html,body").animate({scrollTop:0},"1"),stopload()},!1),$(function(){var n=$(".nav");$(window).scroll(function(){$(window).scrollTop()>200?n.addClass("fixed"):n.removeClass("fixed")})});var nav=$("#primeNav");initialaetLang(),nav.on("click",".lang__btn--jp",function(){showLang("jp")}),nav.on("click",".lang__btn--en",function(){showLang("en")}),jQuery(document).ready(function(n){function e(n,e){l=!0,n=""==n?"index":n,r.find('*[data-menu="'+n+'"]').addClass("selected").parent("li").siblings("li").children(".selected").removeClass("selected"),o(n,e)}function o(e,o){loadingBarAnimation(),setTimeout(function(){var i=n('<div class="main__wrap overflow-hidden '+e+'"></div>').appendTo(d);i.load(e+".html .main__wrap > *",function(l){i.prev(".visible").removeClass("visible"),i.addClass("visible"),a(e),n(".no-csstransitions").length>0&&a(i),"index"==e?(initialaetLang(),n(function(){var n=document.getElementById("corderTop"),e=[" thinking.","simple designs.","programming ideas."];typeCoder(n,0,0,e)})):"about"==e?(initialaetLang(),n.getScript("js/jquery.inview.min.js"),n.getScript("http://d3js.org/d3.v3.min.js"),n.getScript("js/about.js")):(e="projects")&&(initialaetLang(),n.getScript("js/projects.js"));var c=e;c!=window.location&&o&&(window.history.pushState({path:c},"",c),s=!0),t()})},500)}function t(){for(var e=n("img"),o=e.length,t=0,a=0;a<o;a++)n(e[a]).bind("load",function(){t++,o==t&&(n("html,body").animate({scrollTop:0},"1"),u.removeClass("visible"),p.css("display","none"))})}function a(e){n(".main__wrap."+e).removeClass("overflow-hidden").prev(".main__wrap").remove(),l=!1}function i(n){c.hasClass(n),c.removeClass(),c.addClass(n)}var l=!1,s=!1,c=n("#body"),r=n("#primeNav, #main"),d=n("#main"),u=n(".loader__screen"),p=n(".loader__contects");r.on("click",".nav-link",function(o){o.preventDefault();var t=n(this),a=t.data("menu");t.hasClass("selected")||l||(e(a,!0),i(a)),s=!0}),n(window).on("popstate",function(){if(s){var n=location.pathname.split("/"),o=n[n.length-1].replace(".html",""),t=location.hash;o=""==o?"index":o,l||""!=t||(e(o,!1),i(o))}}),modalOpen=n(".modalOpen"),modalOpen.click(function(){function e(){var e=n(window).width(),o=n(window).height(),t=n(".contact__wrap").outerWidth(),a=n(".contact__wrap").outerHeight();n(".contact__wrap").css({left:(e-t)/2+"px",top:(o-a)/2+"px"}),n(".main__wrap").css({height:"100vh",overflow:"hidden"})}n(".contact").append('<div id="contact" class="contact__bg"></div>'),e(),n(".contact").fadeIn("slow"),n(".contact__bg").click(function(){n(".contact").fadeOut("slow",function(){n(".contact__bg").remove(),n(".main__wrap").css({height:"100%",overflow:""})})})}),n("#contactForm").submit(function(e){e.preventDefault();var o=n("#contactForm"),t=o.find("button");n("#name").val()&&n("#email").val()&&n("#comments").val()?(n(".result__loading").css("display","block"),n.ajax({url:o.attr("action"),type:o.attr("method"),data:o.serialize()+"&delay=1",timeout:1e4,beforeSend:function(n,e){t.attr("disabled",!0)},complete:function(n,e){t.attr("disabled",!1)},success:function(e,t,a){o[0].reset(),n("#error").empty(),n(".result__msg").css("display","block"),n(".contact__form").css("display","none")},error:function(n,e,o){}})):n("#error").html("Please fill the required field.")});var m=n(".nav");n("#navToggle").on("click",function(){m.toggleClass("open")}),n(".nav__global").on("click",function(){m.removeClass("open")})});